const x=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function p(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=p(e);fetch(e.href,t)}};x();let u;const c=20;let g=0,y=c;const s=n=>document.querySelector(n),E=s("#winget"),v=s("#scoop"),i=s("#search"),C=s("#result"),k=s("#result-item-template"),L=s("#more");customElements.define("result-item",class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"}).append(k.content.cloneNode(!0))}});let d=0,f=0;function q(){g=f=0,y=c,C.innerHTML="",L.disabled=!0}function m(n,o){return Object.assign(document.createElement(n),o)}async function w(){g<y&&(g+=c,d=requestAnimationFrame(w));let n=0;const o=E.checked,p=v.checked,l=i.value.toLowerCase().split(/\s+/);for(;f<u.length&&n<c;){let{id:e,kw:t,url:r,src:h}=u[f++];if(!(h==="scoop"&&!p)&&!(h==="winget"&&!o)&&l.some(a=>t.some($=>$.toLowerCase().includes(a)))){let a=document.createElement("result-item");a.append(m("span",{slot:"id",textContent:e}),m("span",{slot:"kw",textContent:t.join(",")}),m("span",{slot:"src",textContent:h}),m("a",{slot:"url",textContent:r,href:r})),C.append(a),n++}}L.disabled=!(f<u.length)}function b(){q(),cancelAnimationFrame(d),d=requestAnimationFrame(w)}function A(){y+=c,d=requestAnimationFrame(w)}async function F(){i.disabled=!0,u=await fetch("db.json").then(n=>n.json()),i.disabled=!1,i.placeholder="search here",i.focus(),i.addEventListener("input",b),L.addEventListener("click",A),E.addEventListener("change",b),v.addEventListener("change",b)}F();
//# sourceMappingURL=index.b18c78c8.js.map
