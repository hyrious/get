const x=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function p(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=p(e);fetch(e.href,t)}};x();let d;const c=20;let y=0,L=c;const i=n=>document.querySelector(n),E=i("#winget"),v=i("#scoop"),s=i("#search"),C=i("#result"),k=i("#result-item-template"),w=i("#more");customElements.define("result-item",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(k.content.cloneNode(!0))}});let m=0,f=0;function q(){y=f=0,L=c,C.innerHTML="",w.disabled=!0}function u(n,o){return Object.assign(document.createElement(n),o)}async function b(){y<L&&(y+=c,m=requestAnimationFrame(b));let n=0;const o=E.checked,p=v.checked,l=s.value.toLowerCase().split(/\s+/);for(;f<d.length&&n<c;){let{id:e,kw:t,url:r,src:h}=d[f++];if(!(h==="scoop"&&!p)&&!(h==="winget"&&!o)&&l.some(a=>t.some($=>$.toLowerCase().includes(a)))){let a=document.createElement("result-item");a.append(u("span",{slot:"id",textContent:e}),u("span",{slot:"kw",textContent:t.join(",")}),u("span",{slot:"src",textContent:h}),u("a",{slot:"url",textContent:r,href:r})),C.append(a),n++}}w.disabled=!(f<d.length)}function g(){q(),cancelAnimationFrame(m),m=requestAnimationFrame(b)}function A(){L+=c,m=requestAnimationFrame(b)}async function F(){s.disabled=!0,d=await fetch("db.json").then(n=>n.json()),s.disabled=!1,s.placeholder="search here",s.focus(),s.addEventListener("input",g),w.addEventListener("click",A),E.addEventListener("change",g),v.addEventListener("change",g)}F();
//# sourceMappingURL=index.7a13796b.js.map
