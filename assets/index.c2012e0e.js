!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let e;let t=0,n=20;const o=e=>document.querySelector(e),r=o("#search"),s=o("#result"),i=o("#result-item-template"),c=o("#more");customElements.define("result-item",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(i.content.cloneNode(!0))}});let l=0,a=0;function d(e,t){return Object.assign(document.createElement(e),t)}async function u(){t<n&&(t+=20,l=requestAnimationFrame(u));let o=0;const i=r.value.toLowerCase().split(/\s+/);for(;a<e.length&&o<20;){let{id:t,kw:n,url:r,src:c}=e[a++];if(i.some((e=>n.some((t=>t.toLowerCase().includes(e)))))){let e=document.createElement("result-item");e.append(d("span",{slot:"id",textContent:t}),d("span",{slot:"kw",textContent:n.join(",")}),d("span",{slot:"src",textContent:c}),d("a",{slot:"url",textContent:r,href:r})),s.append(e),o++}}c.disabled=!(a<e.length)}function m(){t=a=0,n=20,s.innerHTML="",c.disabled=!0,cancelAnimationFrame(l),l=requestAnimationFrame(u)}function f(){n+=20,l=requestAnimationFrame(u)}!async function(){e=await fetch("db.json").then((e=>e.json())),r.placeholder="type keywords here",r.focus(),r.addEventListener("input",m),c.addEventListener("click",f)}();
//# sourceMappingURL=index.c2012e0e.js.map
