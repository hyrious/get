var e;!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let t;let n=0,r=20;const o=e=>document.querySelector(e),s=o("#search"),i=o("#result"),c=o("#result-item-template"),l=o("#more");customElements.define("result-item",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(c.content.cloneNode(!0))}});let a=0,u=0;function d(e,t){return Object.assign(document.createElement(e),t)}async function m(){n<r&&(n+=20,a=requestAnimationFrame(m));let e=0;const o=s.value.toLowerCase();for(;u<t.length&&e<20;){let{id:n,kw:r,url:s,src:c}=t[u++];if(r.some((e=>e.toLowerCase().includes(o)))){let t=document.createElement("result-item");t.append(d("span",{slot:"id",textContent:n}),d("span",{slot:"kw",textContent:r.join(",")}),d("span",{slot:"src",textContent:c}),d("a",{slot:"url",textContent:s,href:s})),i.append(t),e++}}l.disabled=!(u<t.length)}function f(){n=u=0,r=20,i.innerHTML="",l.disabled=!0,cancelAnimationFrame(a),a=requestAnimationFrame(m)}function p(){r+=20,a=requestAnimationFrame(m)}!async function(){t=await fetch("db.json").then((e=>e.json())),s.placeholder="type keywords here",s.focus(),s.addEventListener("input",f),l.addEventListener("click",p)}(),null==(e=navigator.serviceWorker)||e.getRegistrations().then((e=>{e.forEach((e=>e.unregister()))}));
//# sourceMappingURL=index.cc0720df.js.map
